<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC vs AC - Interactive Physics</title>
    <link rel="stylesheet" href="parallax-style.css">
    <style>
        /* Enhanced DC vs AC Visualization Styles */
        :root {
            --dc-color: #e74c3c;
            --ac-color: #3498db;
            --positive-color: #e17055;
            --negative-color: #74b9ff;
            --neutral-color: #95a5a6;
            --waveform-color: #f39c12;
        }

        .illustration-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            color: white;
        }

        .concept-section {
            margin: 50px 0;
            background: rgba(0, 5, 17, 0.85);
            border-radius: 25px;
            padding: 40px 35px;
            border: 2px solid rgba(74, 158, 255, 0.25);
            backdrop-filter: blur(20px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 2.2rem;
            color: #4a9eff;
            text-align: center;
            margin-bottom: 25px;
            background: linear-gradient(45deg, #4a9eff, #74b9ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        /* Waveform Visualization - ENHANCED */
        .waveform-container {
            position: relative;
            width: 100%;
            height: 280px;
            margin: 35px 0;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 25px;
            padding: 30px 25px;
            border: 2px solid rgba(74, 158, 255, 0.25);
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(15px);
        }

        .waveform-canvas {
            width: 100%;
            height: 100%;
            position: relative;
            border-radius: 15px;
            background: rgba(0, 5, 17, 0.3);
        }

        .waveform-grid {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(74, 158, 255, 0.15) 1px, transparent 1px),
                linear-gradient(90deg, rgba(74, 158, 255, 0.15) 1px, transparent 1px);
            background-size: 40px 20px;
            border-radius: 15px;
        }

        .waveform-axis {
            position: absolute;
            background: rgba(74, 158, 255, 0.5);
        }

        .axis-horizontal {
            width: 100%;
            height: 2px;
            top: 50%;
            left: 0;
        }

        .axis-vertical {
            width: 2px;
            height: 100%;
            top: 0;
            left: 50px;
        }

        .waveform-line {
            position: absolute;
            height: 3px;
            transition: all 0.1s ease;
        }

        .dc-waveform {
            background: linear-gradient(90deg, var(--dc-color), #c0392b);
            box-shadow: 0 0 10px rgba(231, 76, 60, 0.6);
        }

        .ac-waveform {
            background: linear-gradient(90deg, var(--ac-color), #2980b9);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.6);
        }

        /* Current Flow Demonstration */
        .current-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 35px 0;
        }

        .current-type {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 25px 20px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .current-type:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .dc-demo {
            border-color: rgba(231, 76, 60, 0.5);
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.1), rgba(0, 0, 0, 0.4));
        }

        .ac-demo {
            border-color: rgba(52, 152, 219, 0.5);
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(0, 0, 0, 0.4));
        }

        .demo-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .dc-title { color: var(--dc-color); }
        .ac-title { color: var(--ac-color); }

        .current-visual {
            position: relative;
            width: 100%;
            height: 120px;
            background: linear-gradient(90deg, #34495e, #2c3e50);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .electron {
            position: absolute;
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, #74b9ff, #0984e3);
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(116, 185, 255, 0.8);
            top: 50%;
            transform: translateY(-50%);
        }

        .dc-electron {
            animation: dcFlow 3s linear infinite;
        }

        .ac-electron {
            animation: acFlow 2s ease-in-out infinite alternate;
        }

        @keyframes dcFlow {
            0% { left: -20px; }
            100% { left: calc(100% + 20px); }
        }

        @keyframes acFlow {
            0% { left: 10%; }
            100% { left: 90%; }
        }

        /* Comparison Table */
        .comparison-table {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            overflow: hidden;
            margin: 35px 0;
            border: 2px solid rgba(74, 158, 255, 0.25);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .table-header {
            background: rgba(74, 158, 255, 0.15);
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            font-weight: 700;
            font-size: 1.1rem;
            border-bottom: 2px solid rgba(74, 158, 255, 0.2);
        }

        .table-row {
            padding: 16px 20px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            border-bottom: 1px solid rgba(74, 158, 255, 0.1);
            align-items: center;
            transition: background 0.2s ease;
        }

        .table-row:hover {
            background: rgba(74, 158, 255, 0.05);
        }

        .feature-name {
            font-weight: 600;
            color: #4a9eff;
        }

        .dc-value {
            color: var(--dc-color);
            text-align: center;
        }

        .ac-value {
            color: var(--ac-color);
            text-align: center;
        }

        /* Interactive Controls */
        .interactive-controls {
            background: rgba(74, 158, 255, 0.1);
            border: 2px solid rgba(74, 158, 255, 0.3);
            border-radius: 20px;
            padding: 30px 25px;
            margin: 40px 0;
            text-align: center;
            box-shadow: 0 8px 32px rgba(74, 158, 255, 0.1);
        }

        /* ENHANCED CONTROL BUTTONS - PROPER SIZING */
        .control-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin: 30px 0;
            max-width: 1100px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 10px;
        }

        .control-btn {
            background: linear-gradient(135deg, #4a9eff, #74b9ff);
            border: none;
            color: white;
            padding: 20px 28px;
            border-radius: 28px;
            font-size: 1.15rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(74, 158, 255, 0.3);
            min-height: 75px;
            height: auto;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.4;
            letter-spacing: 0.4px;
            position: relative;
            overflow: visible;
            white-space: nowrap;
            text-overflow: ellipsis;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        /* Ensure text fits properly */
        .control-btn span {
            display: block;
            width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .control-btn:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 10px 30px rgba(74, 158, 255, 0.5);
            background: linear-gradient(135deg, #74b9ff, #4a9eff);
        }

        .control-btn:active {
            transform: translateY(-2px) scale(1.01);
            box-shadow: 0 6px 20px rgba(74, 158, 255, 0.4);
        }

        .dc-btn {
            background: linear-gradient(135deg, var(--dc-color), #c0392b);
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.3);
        }

        .dc-btn:hover {
            background: linear-gradient(135deg, #c0392b, var(--dc-color));
            box-shadow: 0 10px 30px rgba(231, 76, 60, 0.5);
        }

        .ac-btn {
            background: linear-gradient(135deg, var(--ac-color), #2980b9);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.3);
        }

        .ac-btn:hover {
            background: linear-gradient(135deg, #2980b9, var(--ac-color));
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.5);
        }

        /* ENHANCED RESPONSIVE DESIGN FOR BUTTONS */
        @media (max-width: 1024px) {
            .control-buttons {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 18px;
                padding: 0 15px;
            }
            
            .control-btn {
                font-size: 1.1rem;
                padding: 18px 24px;
                min-height: 70px;
                border-radius: 25px;
                letter-spacing: 0.3px;
            }
        }

        @media (max-width: 768px) {
            .current-demo {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .historical-figures {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .table-header,
            .table-row {
                grid-template-columns: 1fr;
                gap: 15px;
                text-align: center;
            }
            
            .concept-section {
                padding: 25px 20px;
                margin: 30px 0;
                border-radius: 20px;
            }
            
            .section-title {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }
            
            .waveform-container {
                padding: 20px 15px;
                height: 220px;
            }
            
            .interactive-controls {
                padding: 20px 15px;
                margin: 25px 0;
            }
        }

        @media (max-width: 480px) {
            .current-type {
                padding: 20px 15px;
            }
            
            .app-card {
                padding: 20px 15px;
            }
        }

        @media (max-width: 360px) {
            .concept-section {
                padding: 20px 15px;
            }
        }

        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-delay-1 { animation-delay: 0.2s; }
        .animate-delay-2 { animation-delay: 0.4s; }
        .animate-delay-3 { animation-delay: 0.6s; }

        /* Applications Section */
        .applications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 35px 0;
        }

        .app-card {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 18px;
            padding: 25px 20px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            backdrop-filter: blur(10px);
        }

        .app-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .dc-app {
            border-color: rgba(231, 76, 60, 0.5);
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.08), rgba(0, 0, 0, 0.4));
        }

        .ac-app {
            border-color: rgba(52, 152, 219, 0.5);
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.08), rgba(0, 0, 0, 0.4));
        }

        .app-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .app-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .app-description {
            font-size: 0.9rem;
            color: #bbb;
        }

        /* Historical Section */
        .historical-figures {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 40px 0;
        }

        .figure-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .edison-card {
            border: 2px solid var(--dc-color);
        }

        .tesla-card {
            border: 2px solid var(--ac-color);
        }

        .figure-name {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .figure-contribution {
            font-size: 1rem;
            margin-bottom: 15px;
            font-style: italic;
        }

        .figure-description {
            font-size: 0.9rem;
            color: #bbb;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <!-- Cinematic Experience Container -->
    <div id="cinematic-experience">
        
        <!-- Loading Screen -->
        <div id="loading-screen" class="active">
            <div class="loading-content">
                <div class="atom-spinner">
                    <div class="nucleus"></div>
                    <div class="electron-orbit orbit-1">
                        <div class="electron"></div>
                    </div>
                    <div class="electron-orbit orbit-2">
                        <div class="electron"></div>
                    </div>
                    <div class="electron-orbit orbit-3">
                        <div class="electron"></div>
                    </div>
                </div>
                <h1>DC vs AC Current</h1>
                <p>Loading current type comparison...</p>
                <div class="loading-bar">
                    <div class="loading-progress"></div>
                </div>
            </div>
        </div>

        <!-- Fixed Elements -->
        <!-- Audio Control -->
        <div id="audio-control">
            <button id="mute-btn" class="control-btn">
                <span class="unmute-icon">🔊</span>
                <span class="mute-icon">🔇</span>
            </button>
        </div>

        <!-- Audio Indicator -->
        <div id="audio-indicator" style="position: fixed; top: 80px; right: 20px; background: rgba(74, 158, 255, 0.9); color: white; padding: 10px 15px; border-radius: 20px; font-size: 0.9rem; z-index: 1001; opacity: 0; transform: translateX(100px); transition: all 0.3s ease;">
            🔊 <span id="audio-text">Narrating...</span>
        </div>

        <!-- Main Content Container -->
        <div id="main-content">
            
            <!-- Hero Section -->
            <section class="cinematic-section active" style="min-height: 100vh; display: flex; align-items: center; justify-content: center;">
                <div class="section-background" style="background: radial-gradient(ellipse at center, #2c3e50 0%, #000511 60%, #000204 100%); opacity: 1;"></div>
                
                <div class="narrative-overlay" style="position: relative; z-index: 10; text-align: center;">
                    <div class="section-indicator" style="margin-bottom: 30px;">
                        <span class="section-number">⚡</span>
                        <span class="section-title">DC vs AC Current</span>
                    </div>
                    <div class="narrative-content">
                        <h1 style="font-size: 3.5rem; margin-bottom: 30px; background: linear-gradient(45deg, #e74c3c, #3498db); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Two Ways Current Flows</h1>
                        <p class="narrative-text" style="font-size: 1.3rem; max-width: 800px; margin: 0 auto 40px;">
                            Discover the fundamental differences between Direct Current (DC) and Alternating Current (AC). 
                            Learn how these two types of electrical current work and why both are essential in our modern world.
                        </p>
                        <div class="equation-display" style="font-size: 1.5rem; color: #4a9eff;">DC: Steady Flow | AC: Alternating Flow</div>
                    </div>
                </div>

                <div class="scroll-hint" style="position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); text-align: center; color: #4a9eff; animation: bounce 2s infinite;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">↓</div>
                    <p>Scroll to explore DC vs AC</p>
                </div>
            </section>

            <!-- Main Educational Content -->
            <div class="illustration-container">

                <!-- Section 1: What are DC and AC? -->
                <div class="concept-section fade-in">
                    <h2 class="section-title">Understanding DC vs AC Current</h2>
                    
                    <div style="text-align: center; margin-bottom: 35px;">
                        <p style="font-size: 1.3rem; line-height: 1.7; color: #ddd; max-width: 800px; margin: 0 auto;">
                            Electric current can flow in two different ways: Direct Current (DC) flows steadily in one direction, 
                            while Alternating Current (AC) changes direction periodically.
                        </p>
                    </div>

                    <div class="current-demo">
                        <div class="current-type dc-demo">
                            <h3 class="demo-title dc-title">Direct Current (DC)</h3>
                            <div class="current-visual">
                                <div class="electron dc-electron"></div>
                                <div class="electron dc-electron" style="animation-delay: 1s;"></div>
                                <div class="electron dc-electron" style="animation-delay: 2s;"></div>
                            </div>
                            <p style="color: var(--dc-color); font-weight: 600; margin: 15px 0 10px;">
                                ✓ Flows in ONE direction
                            </p>
                            <p style="color: #bbb; font-size: 0.95rem; line-height: 1.4;">
                                Like water flowing down a river - steady and consistent flow
                            </p>
                        </div>

                        <div class="current-type ac-demo">
                            <h3 class="demo-title ac-title">Alternating Current (AC)</h3>
                            <div class="current-visual">
                                <div class="electron ac-electron"></div>
                                <div class="electron ac-electron" style="animation-delay: 0.5s;"></div>
                                <div class="electron ac-electron" style="animation-delay: 1s;"></div>
                            </div>
                            <p style="color: var(--ac-color); font-weight: 600; margin: 15px 0 10px;">
                                ↔ Changes direction periodically
                            </p>
                            <p style="color: #bbb; font-size: 0.95rem; line-height: 1.4;">
                                Like waves on a beach - back and forth motion
                            </p>
                        </div>
                    </div>

                    <div class="interactive-controls">
                        <h4 style="color: #4a9eff; margin-bottom: 20px; font-size: 1.2rem;">Interactive Demonstrations</h4>
                        <div class="control-buttons">
                            <button class="control-btn dc-btn" onclick="startDCFlow()">▶ Show DC Flow</button>
                            <button class="control-btn ac-btn" onclick="startACFlow()">🌊 Show AC Flow</button>
                            <button class="control-btn" onclick="stopFlow()">⏹ Stop Animation</button>
                        </div>
                        <p style="color: #ddd; font-size: 0.9rem; margin-top: 15px; opacity: 0.8;">
                            Click the buttons above to see how electrons move in each type of current
                        </p>
                    </div>
                </div>

                <!-- Section 2: Waveform Visualization -->
                <div class="concept-section fade-in animate-delay-1">
                    <h2 class="section-title">Electrical Waveforms</h2>
                    
                    <div style="text-align: center; margin-bottom: 35px;">
                        <p style="font-size: 1.2rem; line-height: 1.7; color: #ddd; max-width: 800px; margin: 0 auto;">
                            Waveforms show how voltage changes over time. DC maintains constant voltage, 
                            while AC voltage varies in a smooth sine wave pattern.
                        </p>
                    </div>

                    <div class="waveform-container">
                        <div class="waveform-canvas" id="waveform-canvas">
                            <div class="waveform-grid"></div>
                            <div class="waveform-axis axis-horizontal"></div>
                            <div class="waveform-axis axis-vertical"></div>
                            <canvas id="waveform-display" width="800" height="240" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></canvas>
                        </div>
                        <div style="position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; gap: 30px; background: rgba(0, 0, 0, 0.6); padding: 8px 20px; border-radius: 20px;">
                            <span style="color: var(--dc-color); font-weight: 600; font-size: 0.9rem;">■ DC Signal</span>
                            <span style="color: var(--ac-color); font-weight: 600; font-size: 0.9rem;">■ AC Signal</span>
                        </div>
                    </div>

                    <div class="interactive-controls">
                        <h4 style="color: #4a9eff; margin-bottom: 20px; font-size: 1.2rem;">Waveform Controls</h4>
                        <div class="control-buttons">
                            <button class="control-btn dc-btn" onclick="showDCWaveform()">📈 Show DC Only</button>
                            <button class="control-btn ac-btn" onclick="showACWaveform()">〰️ Show AC Only</button>
                            <button class="control-btn" onclick="showBothWaveforms()">📊 Compare Both</button>
                            <button class="control-btn" onclick="animateWaveforms()">▶ Animate</button>
                        </div>
                    </div>
                </div>

                <!-- Section 3: Detailed Comparison -->
                <div class="concept-section fade-in animate-delay-2">
                    <h2 class="section-title">Detailed Comparison</h2>
                    
                    <div class="comparison-table">
                        <div class="table-header">
                            <div class="feature-name">Characteristic</div>
                            <div style="color: var(--dc-color); font-weight: 600;">Direct Current (DC)</div>
                            <div style="color: var(--ac-color); font-weight: 600;">Alternating Current (AC)</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Current Direction</div>
                            <div class="dc-value">One direction only</div>
                            <div class="ac-value">Changes direction</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Frequency</div>
                            <div class="dc-value">0 Hz (constant)</div>
                            <div class="ac-value">50-60 Hz (cycles/sec)</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Voltage Level</div>
                            <div class="dc-value">Constant</div>
                            <div class="ac-value">Sinusoidal variation</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Transmission</div>
                            <div class="dc-value">Limited distance</div>
                            <div class="ac-value">Long distance efficient</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Transformation</div>
                            <div class="dc-value">Complex</div>
                            <div class="ac-value">Easy with transformers</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Safety</div>
                            <div class="dc-value">Generally safer</div>
                            <div class="ac-value">More dangerous</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Energy Storage</div>
                            <div class="dc-value">Excellent (batteries)</div>
                            <div class="ac-value">Difficult</div>
                        </div>
                    </div>
                </div>

                <!-- Section 4: Real-World Applications -->
                <div class="concept-section fade-in animate-delay-3">
                    <h2 class="section-title">Real-World Applications</h2>
                    
                    <h3 style="color: var(--dc-color); text-align: center; margin-bottom: 20px;">DC Applications</h3>
                    <div class="applications-grid">
                        <div class="app-card dc-app">
                            <div class="app-icon">🔋</div>
                            <div class="app-title" style="color: var(--dc-color);">Batteries</div>
                            <div class="app-description">Phones, laptops, cars, flashlights</div>
                        </div>

                        <div class="app-card dc-app">
                            <div class="app-icon">📱</div>
                            <div class="app-title" style="color: var(--dc-color);">Electronics</div>
                            <div class="app-description">Computers, smartphones, LED lights</div>
                        </div>

                        <div class="app-card dc-app">
                            <div class="app-icon">☀️</div>
                            <div class="app-title" style="color: var(--dc-color);">Solar Panels</div>
                            <div class="app-description">Renewable energy generation</div>
                        </div>

                        <div class="app-card dc-app">
                            <div class="app-icon">🚗</div>
                            <div class="app-title" style="color: var(--dc-color);">Electric Vehicles</div>
                            <div class="app-description">Tesla, electric cars, e-bikes</div>
                        </div>
                    </div>

                    <h3 style="color: var(--ac-color); text-align: center; margin: 40px 0 20px;">AC Applications</h3>
                    <div class="applications-grid">
                        <div class="app-card ac-app">
                            <div class="app-icon">🏠</div>
                            <div class="app-title" style="color: var(--ac-color);">Household Power</div>
                            <div class="app-description">Wall outlets, appliances, lighting</div>
                        </div>

                        <div class="app-card ac-app">
                            <div class="app-icon">🏭</div>
                            <div class="app-title" style="color: var(--ac-color);">Industrial Motors</div>
                            <div class="app-description">Factories, pumps, compressors</div>
                        </div>

                        <div class="app-card ac-app">
                            <div class="app-icon">⚡</div>
                            <div class="app-title" style="color: var(--ac-color);">Power Grid</div>
                            <div class="app-description">Electricity transmission systems</div>
                        </div>

                        <div class="app-card ac-app">
                            <div class="app-icon">🔌</div>
                            <div class="app-title" style="color: var(--ac-color);">Transformers</div>
                            <div class="app-description">Voltage conversion, power distribution</div>
                        </div>
                    </div>
                </div>

                <!-- Section 5: Historical Context -->
                <div class="concept-section fade-in">
                    <h2 class="section-title">The Current Wars: Edison vs Tesla</h2>
                    
                    <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 30px; text-align: center;">
                        The late 1800s saw a fierce competition between DC and AC systems, 
                        known as the "War of Currents" between Thomas Edison and Nikola Tesla.
                    </p>

                    <div class="historical-figures">
                        <div class="figure-card edison-card">
                            <div class="figure-name" style="color: var(--dc-color);">Thomas Edison</div>
                            <div class="figure-contribution">Champion of Direct Current</div>
                            <div class="figure-description">
                                Edison promoted DC power systems and built the first commercial power stations. 
                                He believed DC was safer and more practical for widespread use, but AC ultimately won 
                                due to its superior transmission capabilities.
                            </div>
                        </div>

                        <div class="figure-card tesla-card">
                            <div class="figure-name" style="color: var(--ac-color);">Nikola Tesla</div>
                            <div class="figure-contribution">Inventor of AC Systems</div>
                            <div class="figure-description">
                                Tesla developed the AC induction motor and polyphase system. 
                                His AC technology, backed by George Westinghouse, became the standard 
                                for power transmission due to its efficiency over long distances.
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(241, 196, 15, 0.1); border: 2px solid rgba(241, 196, 15, 0.3); border-radius: 10px; padding: 20px; margin: 30px 0; text-align: center;">
                        <h4 style="color: #f1c40f; margin-bottom: 10px;">The Winner?</h4>
                        <p style="margin: 0; color: #ddd;">
                            AC won the "Current Wars" for power transmission, but today we use both! 
                            AC for the power grid and household electricity, DC for electronics and renewable energy storage.
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Enhanced Script with Cartesia Voice Integration -->
    <script>
        // Initialize the experience
        window.addEventListener('load', () => {
            setTimeout(() => {
                hideLoadingScreen();
                initializeAnimations();
                initializeVoiceSystem();
                initializeWaveforms();
            }, 2000);
        });

        // Audio Control Variables
        let waveformAnimationId = null;
        let currentWaveformType = 'both';

        // Standardized Humanistic Voice System
        class HumanisticVoice {
            constructor() {
                this.isEnabled = true;
                this.currentUtterance = null;
                this.preferredVoice = null;
                this.settings = {
                    rate: 0.85,        // Slightly slower for better comprehension
                    pitch: 1.0,        // Natural pitch
                    volume: 0.9        // Clear but not overwhelming
                };
                this.initializeVoices();
            }

            initializeVoices() {
                // Wait for voices to load
                if (speechSynthesis.getVoices().length === 0) {
                    speechSynthesis.onvoiceschanged = () => {
                        this.selectPreferredVoice();
                    };
                } else {
                    this.selectPreferredVoice();
                }
            }

            selectPreferredVoice() {
                const voices = speechSynthesis.getVoices();
                
                // Priority order for premium British female voices (most natural sounding)
                const preferredVoiceNames = [
                    'Serena',                    // Premium British English female
                    'Kate',                      // High-quality British English
                    'Stephanie',                 // British English female
                    'Emma',                      // British English female  
                    'Amy',                       // British English female
                    'British English Female',    // Generic British female
                    'English (UK) Female',       // UK female variant
                    'Google UK English Female',  // Google's British voice
                    'Microsoft Hazel',           // Microsoft UK voice
                    'Daniel (Enhanced)',         // Enhanced British male as backup
                    'Moira',                     // Irish English (close alternative)
                    'Fiona',                     // Scottish English female
                    'Samantha',                  // macOS natural voice (backup)
                    'Karen',                     // Natural sounding (backup)
                    'Alex',                      // Good for education (backup)
                    'Google US English',         // Google's neural voice (backup)
                    'Microsoft Zira',            // Microsoft natural voice (backup)
                    'Microsoft David'            // Final backup option
                ];

                // Try to find preferred voices first - prioritizing British female voices
                for (const voiceName of preferredVoiceNames) {
                    const voice = voices.find(v => 
                        v.name.toLowerCase().includes(voiceName.toLowerCase()) && 
                        (v.lang.includes('en-GB') || v.lang.includes('en-UK') || v.lang.includes('en'))
                    );
                    if (voice) {
                        this.preferredVoice = voice;
                        console.log(`🎤 Selected premium voice: ${voice.name} (${voice.lang})`);
                        return;
                    }
                }

                // Enhanced fallback to any high-quality English voice with British preference
                this.preferredVoice = voices.find(voice => {
                    const name = voice.name.toLowerCase();
                    const lang = voice.lang.toLowerCase();
                    return (lang.includes('en-gb') || lang.includes('en-uk')) && 
                           (name.includes('female') || name.includes('woman') || 
                            name.includes('premium') || name.includes('enhanced') || 
                            name.includes('natural') || !name.includes('compact'));
                }) || voices.find(voice => {
                    const name = voice.name.toLowerCase();
                    return voice.lang.includes('en') && 
                           (name.includes('premium') || name.includes('enhanced') || 
                            name.includes('natural') || name.includes('female') ||
                            !name.includes('compact'));
                }) || voices.find(voice => voice.lang.includes('en')) || voices[0];

                if (this.preferredVoice) {
                    console.log(`🎤 Using voice: ${this.preferredVoice.name} (${this.preferredVoice.lang})`);
                }
            }

            speak(text, options = {}) {
                if (!this.isEnabled || !text || !('speechSynthesis' in window)) {
                    return;
                }

                // Stop any current speech
                this.stop();

                // Create utterance with humanistic settings
                const utterance = new SpeechSynthesisUtterance(text);
                
                // Apply settings
                utterance.rate = options.rate || this.settings.rate;
                utterance.pitch = options.pitch || this.settings.pitch;
                utterance.volume = options.volume || this.settings.volume;
                
                // Set preferred voice
                if (this.preferredVoice) {
                    utterance.voice = this.preferredVoice;
                }

                // Event handlers for better user experience
                utterance.onstart = () => {
                    console.log('🎤 Speaking:', text.substring(0, 50) + '...');
                    this.showAudioIndicator();
                };

                utterance.onend = () => {
                    this.currentUtterance = null;
                    this.hideAudioIndicator();
                };

                utterance.onerror = (event) => {
                    console.error('Speech synthesis error:', event.error);
                    this.currentUtterance = null;
                    this.hideAudioIndicator();
                };

                // Store current utterance and speak
                this.currentUtterance = utterance;
                speechSynthesis.speak(utterance);

                return utterance;
            }

            stop() {
                if (speechSynthesis.speaking || speechSynthesis.pending) {
                    speechSynthesis.cancel();
                }
                this.currentUtterance = null;
                this.hideAudioIndicator();
            }

            toggle() {
                this.isEnabled = !this.isEnabled;
                if (!this.isEnabled) {
                    this.stop();
                }
                return this.isEnabled;
            }

            setEnabled(enabled) {
                this.isEnabled = enabled;
                if (!enabled) {
                    this.stop();
                }
            }

            showAudioIndicator() {
                const indicator = document.getElementById('audio-indicator');
                if (indicator) {
                    indicator.style.opacity = '1';
                    indicator.style.transform = 'translateX(0)';
                }
            }

            hideAudioIndicator() {
                const indicator = document.getElementById('audio-indicator');
                if (indicator) {
                    indicator.style.opacity = '0';
                    indicator.style.transform = 'translateX(100px)';
                }
            }
        }

        // Initialize global voice system
        let humanVoice = null;
        let audioEnabled = true;

        // Simplified audio content for DC vs AC
        const audioContent = {
            intro: "Welcome to DC versus AC current. Let's explore the fundamental differences between Direct Current and Alternating Current - two essential forms of electrical energy that power our modern world.",
            dcBasics: "Direct Current flows steadily in one direction, like water flowing down a river. The electrons move consistently from negative to positive terminal, making DC ideal for electronic devices and battery storage.",
            acBasics: "Alternating Current changes direction periodically, typically 50 to 60 times per second. This alternating motion allows efficient voltage transformation and long-distance power transmission.",
            comparison: "Both DC and AC have unique advantages. DC provides stable power for electronics, while AC enables efficient power distribution across long distances."
        };

        function hideLoadingScreen() {
            const loadingScreen = document.getElementById('loading-screen');
            loadingScreen.classList.remove('active');
        }

        function initializeAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.fade-in').forEach(el => {
                el.style.animationPlayState = 'paused';
                observer.observe(el);
            });
        }

        function initializeVoiceSystem() {
            humanVoice = new HumanisticVoice();
            
            // Simple introduction without complex observer logic
            setTimeout(() => {
                if (audioEnabled) {
                    humanVoice.speak(audioContent.intro);
                }
            }, 1500);
        }

        function speakText(text) {
            if (humanVoice && audioEnabled) {
                humanVoice.speak(text);
            }
        }

        function stopCurrentAudio() {
            if (humanVoice) {
                humanVoice.stop();
            }
        }

        function toggleAudio() {
            if (humanVoice) {
                audioEnabled = humanVoice.toggle();
                updateAudioButton();
            }
        }

        function updateAudioButton() {
            const muteBtn = document.getElementById('mute-btn');
            if (muteBtn) {
                muteBtn.classList.toggle('muted', !audioEnabled);
            }
        }

        // Waveform Functions
        function initializeWaveforms() {
            showBothWaveforms();
            setTimeout(() => {
                animateWaveforms();
            }, 1000);
        }

        function showDCWaveform() {
            currentWaveformType = 'dc';
            drawWaveforms();
            if (audioEnabled) {
                speakText(audioContent.dcBasics);
            }
        }

        function showACWaveform() {
            currentWaveformType = 'ac';
            drawWaveforms();
            if (audioEnabled) {
                speakText(audioContent.acBasics);
            }
        }

        function showBothWaveforms() {
            currentWaveformType = 'both';
            drawWaveforms();
            if (audioEnabled) {
                speakText(audioContent.comparison);
            }
        }

        function drawWaveforms() {
            const canvas = document.getElementById('waveform-display');
            const ctx = canvas.getContext('2d');
            
            canvas.width = 800;
            canvas.height = 240;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerY = canvas.height / 2;
            const amplitude = 60;
            const frequency = 0.02;
            
            // Draw DC waveform
            if (currentWaveformType === 'dc' || currentWaveformType === 'both') {
                ctx.strokeStyle = '#e74c3c';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(60, centerY - amplitude/2);
                ctx.lineTo(canvas.width - 20, centerY - amplitude/2);
                ctx.stroke();
                
                // DC label
                ctx.fillStyle = '#e74c3c';
                ctx.font = '14px Arial';
                ctx.fillText('DC', 10, centerY - amplitude/2 - 5);
            }
            
            // Draw AC waveform
            if (currentWaveformType === 'ac' || currentWaveformType === 'both') {
                ctx.strokeStyle = '#3498db';
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                for (let x = 60; x < canvas.width - 20; x++) {
                    const y = centerY + amplitude * Math.sin((x - 60) * frequency);
                    if (x === 60) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
                
                // AC label
                ctx.fillStyle = '#3498db';
                ctx.font = '14px Arial';
                ctx.fillText('AC', 10, centerY + amplitude + 20);
            }
        }

        function animateWaveforms() {
            if (waveformAnimationId) {
                cancelAnimationFrame(waveformAnimationId);
            }
            
            let offset = 0;
            
            function animate() {
                const canvas = document.getElementById('waveform-display');
                const ctx = canvas.getContext('2d');
                
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const centerY = canvas.height / 2;
                const amplitude = 60;
                const frequency = 0.02;
                
                // Animated DC (slight ripple)
                if (currentWaveformType === 'dc' || currentWaveformType === 'both') {
                    ctx.strokeStyle = '#e74c3c';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    
                    for (let x = 60; x < canvas.width - 20; x++) {
                        const y = centerY - amplitude/2 + 5 * Math.sin((x + offset) * 0.01);
                        if (x === 60) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    }
                    ctx.stroke();
                    
                    ctx.fillStyle = '#e74c3c';
                    ctx.font = '14px Arial';
                    ctx.fillText('DC', 10, centerY - amplitude/2 - 5);
                }
                
                // Animated AC
                if (currentWaveformType === 'ac' || currentWaveformType === 'both') {
                    ctx.strokeStyle = '#3498db';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    
                    for (let x = 60; x < canvas.width - 20; x++) {
                        const y = centerY + amplitude * Math.sin((x - 60 + offset) * frequency);
                        if (x === 60) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    }
                    ctx.stroke();
                    
                    ctx.fillStyle = '#3498db';
                    ctx.font = '14px Arial';
                    ctx.fillText('AC', 10, centerY + amplitude + 20);
                }
                
                offset += 2;
                waveformAnimationId = requestAnimationFrame(animate);
            }
            
            animate();
        }

        // Current Flow Functions
        function startDCFlow() {
            document.querySelectorAll('.dc-electron').forEach(electron => {
                electron.style.animationPlayState = 'running';
            });
            
            if (audioEnabled && humanVoice) {
                speakText(audioContent.dcBasics);
            }
        }

        function startACFlow() {
            document.querySelectorAll('.ac-electron').forEach(electron => {
                electron.style.animationPlayState = 'running';
            });
            
            if (audioEnabled && humanVoice) {
                speakText(audioContent.acBasics);
            }
        }

        function stopFlow() {
            document.querySelectorAll('.electron').forEach(electron => {
                electron.style.animationPlayState = 'paused';
            });
            
            if (humanVoice) {
                humanVoice.stop();
            }
        }

        // Audio Control
        document.getElementById('mute-btn')?.addEventListener('click', function() {
            toggleAudio();
        });

        // Bounce animation for scroll hint
        const style = document.createElement('style');
        style.textContent = `
            @keyframes bounce {
                0%, 100% { transform: translateX(-50%) translateY(0); }
                50% { transform: translateX(-50%) translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html> 