<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Frame-Options" content="ALLOWALL">
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors *">
    <title>DC vs AC - Interactive Physics</title>
    <link rel="stylesheet" href="parallax-style.css">
    <style>
        /* Enhanced DC vs AC Visualization Styles */
        :root {
            --dc-color: #e74c3c;
            --ac-color: #3498db;
            --positive-color: #e17055;
            --negative-color: #74b9ff;
            --neutral-color: #95a5a6;
            --waveform-color: #f39c12;
        }

        .illustration-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            color: white;
        }

        .concept-section {
            margin: 60px 0;
            background: rgba(0, 5, 17, 0.8);
            border-radius: 20px;
            padding: 40px;
            border: 2px solid rgba(74, 158, 255, 0.3);
            backdrop-filter: blur(15px);
        }

        .section-title {
            font-size: 2.5rem;
            color: #4a9eff;
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #4a9eff, #74b9ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Waveform Visualization */
        .waveform-container {
            position: relative;
            width: 100%;
            height: 300px;
            margin: 30px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid rgba(74, 158, 255, 0.3);
            overflow: hidden;
        }

        .waveform-canvas {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .waveform-grid {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(74, 158, 255, 0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(74, 158, 255, 0.2) 1px, transparent 1px);
            background-size: 40px 20px;
        }

        .waveform-axis {
            position: absolute;
            background: rgba(74, 158, 255, 0.5);
        }

        .axis-horizontal {
            width: 100%;
            height: 2px;
            top: 50%;
            left: 0;
        }

        .axis-vertical {
            width: 2px;
            height: 100%;
            top: 0;
            left: 50px;
        }

        .waveform-line {
            position: absolute;
            height: 3px;
            transition: all 0.1s ease;
        }

        .dc-waveform {
            background: linear-gradient(90deg, var(--dc-color), #c0392b);
            box-shadow: 0 0 10px rgba(231, 76, 60, 0.6);
        }

        .ac-waveform {
            background: linear-gradient(90deg, var(--ac-color), #2980b9);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.6);
        }

        /* Current Flow Demonstration */
        .current-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 40px 0;
        }

        .current-type {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .dc-demo {
            border: 2px solid var(--dc-color);
        }

        .ac-demo {
            border: 2px solid var(--ac-color);
        }

        .demo-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .dc-title { color: var(--dc-color); }
        .ac-title { color: var(--ac-color); }

        .current-visual {
            position: relative;
            width: 100%;
            height: 120px;
            background: linear-gradient(90deg, #34495e, #2c3e50);
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .electron {
            position: absolute;
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, #74b9ff, #0984e3);
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(116, 185, 255, 0.8);
            top: 50%;
            transform: translateY(-50%);
        }

        .dc-electron {
            animation: dcFlow 3s linear infinite;
        }

        .ac-electron {
            animation: acFlow 2s ease-in-out infinite alternate;
        }

        @keyframes dcFlow {
            0% { left: -20px; }
            100% { left: calc(100% + 20px); }
        }

        @keyframes acFlow {
            0% { left: 10%; }
            100% { left: 90%; }
        }

        /* Comparison Table */
        .comparison-table {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            overflow: hidden;
            margin: 30px 0;
            border: 2px solid rgba(74, 158, 255, 0.3);
        }

        .table-header {
            background: rgba(74, 158, 255, 0.2);
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .table-row {
            padding: 15px 20px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            border-bottom: 1px solid rgba(74, 158, 255, 0.1);
            align-items: center;
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .feature-name {
            font-weight: 600;
            color: #4a9eff;
        }

        .dc-value {
            color: var(--dc-color);
            text-align: center;
        }

        .ac-value {
            color: var(--ac-color);
            text-align: center;
        }

        /* Interactive Controls */
        .interactive-controls {
            background: rgba(74, 158, 255, 0.1);
            border: 2px solid rgba(74, 158, 255, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            text-align: center;
        }

        .control-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .control-btn {
            background: linear-gradient(135deg, #4a9eff, #74b9ff);
            border: none;
            color: white;
            padding: 14px 20px;
            border-radius: 25px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 158, 255, 0.3);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 158, 255, 0.4);
        }

        .control-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(74, 158, 255, 0.3);
        }

        .dc-btn {
            background: linear-gradient(135deg, var(--dc-color), #c0392b);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .dc-btn:hover {
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }

        .ac-btn {
            background: linear-gradient(135deg, var(--ac-color), #2980b9);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .ac-btn:hover {
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        /* Applications Section */
        .applications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .app-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .app-card:hover {
            transform: translateY(-5px);
        }

        .dc-app {
            border: 2px solid var(--dc-color);
        }

        .ac-app {
            border: 2px solid var(--ac-color);
        }

        .app-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .app-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .app-description {
            font-size: 0.9rem;
            color: #bbb;
        }

        /* Historical Section */
        .historical-figures {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 40px 0;
        }

        .figure-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .edison-card {
            border: 2px solid var(--dc-color);
        }

        .tesla-card {
            border: 2px solid var(--ac-color);
        }

        .figure-name {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .figure-contribution {
            font-size: 1rem;
            margin-bottom: 15px;
            font-style: italic;
        }

        .figure-description {
            font-size: 0.9rem;
            color: #bbb;
            line-height: 1.6;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .current-demo {
                grid-template-columns: 1fr;
            }
            
            .historical-figures {
                grid-template-columns: 1fr;
            }
            
            .table-header,
            .table-row {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .control-buttons {
                grid-template-columns: 1fr;
                gap: 12px;
                max-width: 300px;
            }
            
            .control-btn {
                font-size: 0.9rem;
                padding: 12px 16px;
                min-height: 44px;
            }
            
            .hero-title {
                font-size: 2.5rem !important;
            }
            
            .narrative-text {
                font-size: 1.1rem !important;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .waveform-container {
                padding: 20px;
                height: 250px;
            }
            
            .concept-section {
                padding: 30px 20px;
            }
        }

        @media (max-width: 480px) {
            .control-buttons {
                max-width: 100%;
            }
            
            .control-btn {
                font-size: 0.85rem;
                padding: 10px 14px;
                min-height: 42px;
            }
            
            .interactive-controls {
                padding: 20px 15px;
            }
            
            .current-demo {
                gap: 20px;
            }
            
            .current-type {
                padding: 20px 15px;
            }
        }

        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-delay-1 { animation-delay: 0.2s; }
        .animate-delay-2 { animation-delay: 0.4s; }
        .animate-delay-3 { animation-delay: 0.6s; }
    </style>
</head>
<body>
    <!-- Cinematic Experience Container -->
    <div id="cinematic-experience">
        
        <!-- Loading Screen -->
        <div id="loading-screen" class="active">
            <div class="loading-content">
                <div class="atom-spinner">
                    <div class="nucleus"></div>
                    <div class="electron-orbit orbit-1">
                        <div class="electron"></div>
                    </div>
                    <div class="electron-orbit orbit-2">
                        <div class="electron"></div>
                    </div>
                    <div class="electron-orbit orbit-3">
                        <div class="electron"></div>
                    </div>
                </div>
                <h1>DC vs AC Current</h1>
                <p>Loading current type comparison...</p>
                <div class="loading-bar">
                    <div class="loading-progress"></div>
                </div>
            </div>
        </div>

        <!-- Fixed Elements -->
        <!-- Audio Control -->
        <div id="audio-control">
            <button id="mute-btn" class="control-btn">
                <span class="unmute-icon">üîä</span>
                <span class="mute-icon">üîá</span>
            </button>
        </div>

        <!-- Main Content Container -->
        <div id="main-content">
            
            <!-- Hero Section -->
            <section class="cinematic-section active" style="min-height: 100vh; display: flex; align-items: center; justify-content: center;">
                <div class="section-background" style="background: radial-gradient(ellipse at center, #2c3e50 0%, #000511 60%, #000204 100%); opacity: 1;"></div>
                
                <div class="narrative-overlay" style="position: relative; z-index: 10; text-align: center;">
                    <div class="section-indicator" style="margin-bottom: 30px;">
                        <span class="section-number">‚ö°</span>
                        <span class="section-title">DC vs AC Current</span>
                    </div>
                    <div class="narrative-content">
                        <h1 style="font-size: 3.5rem; margin-bottom: 30px; background: linear-gradient(45deg, #e74c3c, #3498db); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Two Ways Current Flows</h1>
                        <p class="narrative-text" style="font-size: 1.3rem; max-width: 800px; margin: 0 auto 40px;">
                            Discover the fundamental differences between Direct Current (DC) and Alternating Current (AC). 
                            Learn how these two types of electrical current work and why both are essential in our modern world.
                        </p>
                        <div class="equation-display" style="font-size: 1.5rem; color: #4a9eff;">DC: Steady Flow | AC: Alternating Flow</div>
                    </div>
                </div>

                <div class="scroll-hint" style="position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); text-align: center; color: #4a9eff; animation: bounce 2s infinite;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">‚Üì</div>
                    <p>Scroll to explore DC vs AC</p>
                </div>
            </section>

            <!-- Main Educational Content -->
            <div class="illustration-container">

                <!-- Section 1: What are DC and AC? -->
                <div class="concept-section fade-in">
                    <h2 class="section-title">What are DC and AC?</h2>
                    
                    <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 30px; text-align: center;">
                        Direct Current (DC) flows in one direction continuously, while Alternating Current (AC) 
                        changes direction periodically. Both are essential for different applications.
                    </p>

                    <div class="current-demo">
                        <div class="current-type dc-demo">
                            <h3 class="demo-title dc-title">Direct Current (DC)</h3>
                            <div class="current-visual">
                                <div class="electron dc-electron"></div>
                                <div class="electron dc-electron" style="animation-delay: 1s;"></div>
                                <div class="electron dc-electron" style="animation-delay: 2s;"></div>
                            </div>
                            <p style="color: var(--dc-color); font-weight: 600;">
                                Electrons flow in ONE direction only
                            </p>
                            <p style="color: #bbb; font-size: 0.9rem;">
                                Like water flowing down a river - always the same direction
                            </p>
                        </div>

                        <div class="current-type ac-demo">
                            <h3 class="demo-title ac-title">Alternating Current (AC)</h3>
                            <div class="current-visual">
                                <div class="electron ac-electron"></div>
                                <div class="electron ac-electron" style="animation-delay: 0.5s;"></div>
                                <div class="electron ac-electron" style="animation-delay: 1s;"></div>
                            </div>
                            <p style="color: var(--ac-color); font-weight: 600;">
                                Electrons change direction periodically
                            </p>
                            <p style="color: #bbb; font-size: 0.9rem;">
                                Like waves on a beach - back and forth motion
                            </p>
                        </div>
                    </div>

                    <div class="interactive-controls">
                        <h4 style="color: #4a9eff; margin-bottom: 15px;">Interactive Current Flow</h4>
                        <div class="control-buttons">
                            <button class="control-btn dc-btn" onclick="startDCFlow()">‚ñ∂ Show DC Flow</button>
                            <button class="control-btn ac-btn" onclick="startACFlow()">üåä Show AC Flow</button>
                            <button class="control-btn" onclick="stopFlow()">‚èπ Stop Animation</button>
                        </div>
                    </div>
                </div>

                <!-- Section 2: Waveform Visualization -->
                <div class="concept-section fade-in animate-delay-1">
                    <h2 class="section-title">Waveform Comparison</h2>
                    
                    <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 30px; text-align: center;">
                        The waveforms show the fundamental difference: DC maintains constant voltage, 
                        while AC voltage varies sinusoidally over time.
                    </p>

                    <div class="waveform-container">
                        <div class="waveform-canvas" id="waveform-canvas">
                            <div class="waveform-grid"></div>
                            <div class="waveform-axis axis-horizontal"></div>
                            <div class="waveform-axis axis-vertical"></div>
                            <canvas id="waveform-display" width="800" height="240" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></canvas>
                        </div>
                        <div style="position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; gap: 20px;">
                            <span style="color: var(--dc-color); font-weight: 600;">‚ñ† DC Waveform</span>
                            <span style="color: var(--ac-color); font-weight: 600;">‚ñ† AC Waveform</span>
                        </div>
                    </div>

                    <div class="interactive-controls">
                        <h4 style="color: #4a9eff; margin-bottom: 15px;">Waveform Controls</h4>
                        <div class="control-buttons">
                            <button class="control-btn dc-btn" onclick="showDCWaveform()">üìà Show DC</button>
                            <button class="control-btn ac-btn" onclick="showACWaveform()">„Ä∞Ô∏è Show AC</button>
                            <button class="control-btn" onclick="showBothWaveforms()">üìä Compare Both</button>
                            <button class="control-btn" onclick="animateWaveforms()">‚ñ∂ Animate</button>
                        </div>
                    </div>
                </div>

                <!-- Section 3: Detailed Comparison -->
                <div class="concept-section fade-in animate-delay-2">
                    <h2 class="section-title">Detailed Comparison</h2>
                    
                    <div class="comparison-table">
                        <div class="table-header">
                            <div class="feature-name">Characteristic</div>
                            <div style="color: var(--dc-color); font-weight: 600;">Direct Current (DC)</div>
                            <div style="color: var(--ac-color); font-weight: 600;">Alternating Current (AC)</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Current Direction</div>
                            <div class="dc-value">One direction only</div>
                            <div class="ac-value">Changes direction</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Frequency</div>
                            <div class="dc-value">0 Hz (constant)</div>
                            <div class="ac-value">50-60 Hz (cycles/sec)</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Voltage Level</div>
                            <div class="dc-value">Constant</div>
                            <div class="ac-value">Sinusoidal variation</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Transmission</div>
                            <div class="dc-value">Limited distance</div>
                            <div class="ac-value">Long distance efficient</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Transformation</div>
                            <div class="dc-value">Complex</div>
                            <div class="ac-value">Easy with transformers</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Safety</div>
                            <div class="dc-value">Generally safer</div>
                            <div class="ac-value">More dangerous</div>
                        </div>

                        <div class="table-row">
                            <div class="feature-name">Energy Storage</div>
                            <div class="dc-value">Excellent (batteries)</div>
                            <div class="ac-value">Difficult</div>
                        </div>
                    </div>
                </div>

                <!-- Section 4: Real-World Applications -->
                <div class="concept-section fade-in animate-delay-3">
                    <h2 class="section-title">Real-World Applications</h2>
                    
                    <h3 style="color: var(--dc-color); text-align: center; margin-bottom: 20px;">DC Applications</h3>
                    <div class="applications-grid">
                        <div class="app-card dc-app">
                            <div class="app-icon">üîã</div>
                            <div class="app-title" style="color: var(--dc-color);">Batteries</div>
                            <div class="app-description">Phones, laptops, cars, flashlights</div>
                        </div>

                        <div class="app-card dc-app">
                            <div class="app-icon">üì±</div>
                            <div class="app-title" style="color: var(--dc-color);">Electronics</div>
                            <div class="app-description">Computers, smartphones, LED lights</div>
                        </div>

                        <div class="app-card dc-app">
                            <div class="app-icon">‚òÄÔ∏è</div>
                            <div class="app-title" style="color: var(--dc-color);">Solar Panels</div>
                            <div class="app-description">Renewable energy generation</div>
                        </div>

                        <div class="app-card dc-app">
                            <div class="app-icon">üöó</div>
                            <div class="app-title" style="color: var(--dc-color);">Electric Vehicles</div>
                            <div class="app-description">Tesla, electric cars, e-bikes</div>
                        </div>
                    </div>

                    <h3 style="color: var(--ac-color); text-align: center; margin: 40px 0 20px;">AC Applications</h3>
                    <div class="applications-grid">
                        <div class="app-card ac-app">
                            <div class="app-icon">üè†</div>
                            <div class="app-title" style="color: var(--ac-color);">Household Power</div>
                            <div class="app-description">Wall outlets, appliances, lighting</div>
                        </div>

                        <div class="app-card ac-app">
                            <div class="app-icon">üè≠</div>
                            <div class="app-title" style="color: var(--ac-color);">Industrial Motors</div>
                            <div class="app-description">Factories, pumps, compressors</div>
                        </div>

                        <div class="app-card ac-app">
                            <div class="app-icon">‚ö°</div>
                            <div class="app-title" style="color: var(--ac-color);">Power Grid</div>
                            <div class="app-description">Electricity transmission systems</div>
                        </div>

                        <div class="app-card ac-app">
                            <div class="app-icon">üîå</div>
                            <div class="app-title" style="color: var(--ac-color);">Transformers</div>
                            <div class="app-description">Voltage conversion, power distribution</div>
                        </div>
                    </div>
                </div>

                <!-- Section 5: Historical Context -->
                <div class="concept-section fade-in">
                    <h2 class="section-title">The Current Wars: Edison vs Tesla</h2>
                    
                    <p style="font-size: 1.2rem; line-height: 1.8; margin-bottom: 30px; text-align: center;">
                        The late 1800s saw a fierce competition between DC and AC systems, 
                        known as the "War of Currents" between Thomas Edison and Nikola Tesla.
                    </p>

                    <div class="historical-figures">
                        <div class="figure-card edison-card">
                            <div class="figure-name" style="color: var(--dc-color);">Thomas Edison</div>
                            <div class="figure-contribution">Champion of Direct Current</div>
                            <div class="figure-description">
                                Edison promoted DC power systems and built the first commercial power stations. 
                                He believed DC was safer and more practical for widespread use, but AC ultimately won 
                                due to its superior transmission capabilities.
                            </div>
                        </div>

                        <div class="figure-card tesla-card">
                            <div class="figure-name" style="color: var(--ac-color);">Nikola Tesla</div>
                            <div class="figure-contribution">Inventor of AC Systems</div>
                            <div class="figure-description">
                                Tesla developed the AC induction motor and polyphase system. 
                                His AC technology, backed by George Westinghouse, became the standard 
                                for power transmission due to its efficiency over long distances.
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(241, 196, 15, 0.1); border: 2px solid rgba(241, 196, 15, 0.3); border-radius: 10px; padding: 20px; margin: 30px 0; text-align: center;">
                        <h4 style="color: #f1c40f; margin-bottom: 10px;">The Winner?</h4>
                        <p style="margin: 0; color: #ddd;">
                            AC won the "Current Wars" for power transmission, but today we use both! 
                            AC for the power grid and household electricity, DC for electronics and renewable energy storage.
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Enhanced Script -->
    <script>
        // Initialize the experience
        window.addEventListener('load', () => {
            setTimeout(() => {
                hideLoadingScreen();
                initializeAnimations();
                initializeAudio();
                initializeWaveforms();
            }, 2000);
        });

        // Audio Control Variables
        let audioEnabled = true;
        let speechSynthesis = window.speechSynthesis;
        let waveformAnimationId = null;
        let currentWaveformType = 'both';

        // Audio Content Scripts
        const audioScripts = {
            intro: "Welcome to understanding Direct Current versus Alternating Current. These are the two fundamental types of electrical current. DC flows in one direction continuously, while AC changes direction periodically.",
            dc: "Direct Current flows steadily in one direction, like water flowing down a river. DC is produced by batteries and solar panels. It's used in electronics, phones, computers, and electric vehicles.",
            ac: "Alternating Current changes direction periodically, typically 50 to 60 times per second. AC is used in household power because it can be easily transformed to different voltages and transmitted over long distances efficiently.",
            comparison: "The key differences are direction, transmission, and applications. DC flows one way and is great for electronics and storage. AC alternates direction and excels at power transmission and household applications.",
            history: "The Current Wars of the 1880s saw Edison promoting DC while Tesla championed AC. Tesla's AC system won for power grids due to efficient long-distance transmission, but today we use both types for different applications."
        };

        function hideLoadingScreen() {
            const loadingScreen = document.getElementById('loading-screen');
            loadingScreen.classList.remove('active');
        }

        function initializeAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.fade-in').forEach(el => {
                el.style.animationPlayState = 'paused';
                observer.observe(el);
            });
        }

        function initializeAudio() {
            setTimeout(() => {
                if (audioEnabled) {
                    speakText(audioScripts.intro);
                }
            }, 3000);
        }

        function speakText(text) {
            if (!audioEnabled || !speechSynthesis) return;

            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.rate = 0.9;
            utterance.pitch = 1.0;
            utterance.volume = 0.8;
            speechSynthesis.speak(utterance);
        }

        // Waveform Functions
        function initializeWaveforms() {
            showBothWaveforms();
            setTimeout(() => {
                animateWaveforms();
            }, 1000);
        }

        function showDCWaveform() {
            currentWaveformType = 'dc';
            drawWaveforms();
            if (audioEnabled) {
                speakText(audioScripts.dc);
            }
        }

        function showACWaveform() {
            currentWaveformType = 'ac';
            drawWaveforms();
            if (audioEnabled) {
                speakText(audioScripts.ac);
            }
        }

        function showBothWaveforms() {
            currentWaveformType = 'both';
            drawWaveforms();
            if (audioEnabled) {
                speakText(audioScripts.comparison);
            }
        }

        function drawWaveforms() {
            const canvas = document.getElementById('waveform-display');
            const ctx = canvas.getContext('2d');
            
            canvas.width = 800;
            canvas.height = 240;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerY = canvas.height / 2;
            const amplitude = 60;
            const frequency = 0.02;
            
            // Draw DC waveform
            if (currentWaveformType === 'dc' || currentWaveformType === 'both') {
                ctx.strokeStyle = '#e74c3c';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(60, centerY - amplitude/2);
                ctx.lineTo(canvas.width - 20, centerY - amplitude/2);
                ctx.stroke();
                
                // DC label
                ctx.fillStyle = '#e74c3c';
                ctx.font = '14px Arial';
                ctx.fillText('DC', 10, centerY - amplitude/2 - 5);
            }
            
            // Draw AC waveform
            if (currentWaveformType === 'ac' || currentWaveformType === 'both') {
                ctx.strokeStyle = '#3498db';
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                for (let x = 60; x < canvas.width - 20; x++) {
                    const y = centerY + amplitude * Math.sin((x - 60) * frequency);
                    if (x === 60) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
                
                // AC label
                ctx.fillStyle = '#3498db';
                ctx.font = '14px Arial';
                ctx.fillText('AC', 10, centerY + amplitude + 20);
            }
        }

        function animateWaveforms() {
            if (waveformAnimationId) {
                cancelAnimationFrame(waveformAnimationId);
            }
            
            let offset = 0;
            
            function animate() {
                const canvas = document.getElementById('waveform-display');
                const ctx = canvas.getContext('2d');
                
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const centerY = canvas.height / 2;
                const amplitude = 60;
                const frequency = 0.02;
                
                // Animated DC (slight ripple)
                if (currentWaveformType === 'dc' || currentWaveformType === 'both') {
                    ctx.strokeStyle = '#e74c3c';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    
                    for (let x = 60; x < canvas.width - 20; x++) {
                        const y = centerY - amplitude/2 + 5 * Math.sin((x + offset) * 0.01);
                        if (x === 60) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    }
                    ctx.stroke();
                    
                    ctx.fillStyle = '#e74c3c';
                    ctx.font = '14px Arial';
                    ctx.fillText('DC', 10, centerY - amplitude/2 - 5);
                }
                
                // Animated AC
                if (currentWaveformType === 'ac' || currentWaveformType === 'both') {
                    ctx.strokeStyle = '#3498db';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    
                    for (let x = 60; x < canvas.width - 20; x++) {
                        const y = centerY + amplitude * Math.sin((x - 60 + offset) * frequency);
                        if (x === 60) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    }
                    ctx.stroke();
                    
                    ctx.fillStyle = '#3498db';
                    ctx.font = '14px Arial';
                    ctx.fillText('AC', 10, centerY + amplitude + 20);
                }
                
                offset += 2;
                waveformAnimationId = requestAnimationFrame(animate);
            }
            
            animate();
        }

        // Current Flow Functions
        function startDCFlow() {
            document.querySelectorAll('.dc-electron').forEach(electron => {
                electron.style.animationPlayState = 'running';
            });
            
            if (audioEnabled) {
                speakText("DC electrons flow steadily in one direction, like water flowing down a river. This consistent flow makes DC ideal for electronic devices and energy storage.");
            }
        }

        function startACFlow() {
            document.querySelectorAll('.ac-electron').forEach(electron => {
                electron.style.animationPlayState = 'running';
            });
            
            if (audioEnabled) {
                speakText("AC electrons alternate direction, typically 50 to 60 times per second. This alternating motion allows efficient voltage transformation and long-distance transmission.");
            }
        }

        function stopFlow() {
            document.querySelectorAll('.electron').forEach(electron => {
                electron.style.animationPlayState = 'paused';
            });
        }

        // Audio control
        document.getElementById('mute-btn')?.addEventListener('click', function() {
            this.classList.toggle('muted');
            audioEnabled = !audioEnabled;
            
            if (!audioEnabled && speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
        });

        // Bounce animation for scroll hint
        const style = document.createElement('style');
        style.textContent = `
            @keyframes bounce {
                0%, 100% { transform: translateX(-50%) translateY(0); }
                50% { transform: translateX(-50%) translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html> 